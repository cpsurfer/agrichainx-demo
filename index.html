<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgriChainX Cloud - AI + Blockchain Food Traceability</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <i class="fas fa-leaf"></i>
                <span>AgriChainX Cloud</span>
            </div>
            <!-- Hamburger Menu Button (Mobile Only) -->
            <button class="hamburger" id="hamburger" aria-label="Toggle Menu">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
            <!-- Navigation Menu -->
            <div class="nav-menu" id="navMenu">
                <a href="#" class="nav-link active" data-section="home">Home</a>
                <a href="#" class="nav-link" data-section="dashboard">Dashboard</a>
                <a href="#" class="nav-link" data-section="scan">Scan Product</a>
                <a href="#" class="nav-link" data-section="upload">Upload Data</a>
                <a href="#" class="nav-link" data-section="analytics">Analytics</a>
                <a href="#" class="nav-link" data-section="blockchain">Blockchain</a>
            </div>
        </div>
    </nav>

    <!-- Home Section -->
    <section id="home" class="section active">
        <div class="hero">
            <div class="hero-content">
                <h1>AI + Blockchain Food Purity & Traceability</h1>
                <p>Verify food authenticity, track supply chains, and build consumer trust through immutable digital records and AI-powered analysis.</p>
                <div class="hero-actions">
                    <button class="btn btn-primary" onclick="showSection('upload')">
                        <i class="fas fa-upload"></i>
                        Upload Product Data
                    </button>
                    <button class="btn btn-secondary" onclick="showSection('scan')">
                        <i class="fas fa-qrcode"></i>
                        Scan QR Code
                    </button>
                </div>
            </div>
            <div class="hero-stats">
                <div class="stat-card">
                    <div class="stat-number">95%</div>
                    <div class="stat-label">Average Purity Score</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">3</div>
                    <div class="stat-label">Verified Producers</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">100%</div>
                    <div class="stat-label">Blockchain Verified</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Dashboard Section -->
    <section id="dashboard" class="section">
        <div class="dashboard-header">
            <h2>Producer Dashboard</h2>
            <p>Monitor your products and track their journey through the supply chain</p>
        </div>
        <div class="dashboard-grid">
            <div class="card">
                <div class="card-header">
                    <h3>Recent Products</h3>
                    <i class="fas fa-box"></i>
                </div>
                <div class="product-list" id="productList">
                    <!-- Products will be populated by JavaScript -->
                </div>
            </div>
            <div class="card">
                <div class="card-header">
                    <h3>Trust Score</h3>
                    <i class="fas fa-star"></i>
                </div>
                <div class="trust-score">
                    <div class="score-circle">
                        <div class="score-number">92</div>
                        <div class="score-label">Trust Score</div>
                    </div>
                    <div class="certifications">
                        <span class="cert-badge">FSSAI</span>
                        <span class="cert-badge">Organic</span>
                        <span class="cert-badge">Fair Trade</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Upload Section -->
    <section id="upload" class="section">
        <div class="upload-container">
            <div class="upload-header">
                <h2>Upload Product Data</h2>
                <p>Submit your food product for AI analysis and blockchain verification</p>
            </div>
            <div class="upload-form">
                <div class="form-group">
                    <label>Product Name</label>
                    <input type="text" id="productName" placeholder="Enter product name" required>
                </div>
                <div class="form-group">
                    <label>Batch ID</label>
                    <input type="text" id="batchId" placeholder="Enter batch ID" required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Harvest Date</label>
                        <input type="date" id="harvestDate" required>
                    </div>
                    <div class="form-group">
                        <label>Location</label>
                        <input type="text" id="location" placeholder="Farm location" required>
                    </div>
                </div>
                <div class="form-group">
                    <label>Product Image</label>
                    <div class="file-upload" onclick="document.getElementById('imageUpload').click()">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <span>Click to upload image or drag and drop</span>
                        <input type="file" id="imageUpload" accept="image/*" style="display: none;">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>pH Level</label>
                        <input type="number" id="phLevel" step="0.1" placeholder="pH value">
                    </div>
                    <div class="form-group">
                        <label>Moisture %</label>
                        <input type="number" id="moisture" step="0.1" placeholder="Moisture percentage">
                    </div>
                </div>
                <button class="btn btn-primary btn-large" onclick="processUpload()">
                    <i class="fas fa-brain"></i>
                    Analyze with AI
                </button>
            </div>
        </div>
    </section>

    <!-- AI Analysis Results -->
    <div id="aiAnalysisModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>AI Analysis Results</h3>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div class="analysis-loading" id="analysisLoading">
                <div class="loading-spinner"></div>
                <p>Analyzing product with AI...</p>
            </div>
            <div class="analysis-results" id="analysisResults" style="display: none;">
                <div class="purity-score">
                    <div class="score-circle large">
                        <div class="score-number" id="purityScore">94</div>
                        <div class="score-label">Purity Score</div>
                    </div>
                </div>
                <div class="analysis-details">
                    <div class="detail-item">
                        <span class="detail-label">Color Score:</span>
                        <span class="detail-value" id="colorScore">96%</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Texture Score:</span>
                        <span class="detail-value" id="textureScore">92%</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Contamination Risk:</span>
                        <span class="detail-value status-low" id="contaminationRisk">Low</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Authenticity:</span>
                        <span class="detail-value status-verified" id="authenticity">Verified</span>
                    </div>
                </div>
                <button class="btn btn-primary" onclick="createBlockchainRecord()">
                    <i class="fas fa-cube"></i>
                    Create Blockchain Record
                </button>
            </div>
        </div>
    </div>

    <!-- Scan Section -->
    <section id="scan" class="section">
        <div class="scan-container">
            <div class="scan-header">
                <h2>Scan QR Code</h2>
                <p>Verify product authenticity and view supply chain information</p>
            </div>
            <div class="qr-scanner">
                <div class="scanner-frame">
                    <div class="scanner-overlay">
                        <div class="scanner-line"></div>
                    </div>
                    <i class="fas fa-qrcode scanner-icon"></i>
                </div>
                <p>Position QR code within the frame to scan</p>
                <button class="btn btn-secondary" onclick="simulateScan()">
                    <i class="fas fa-search"></i>
                    Simulate Scan
                </button>
            </div>
        </div>
    </section>

    <!-- Product Verification Results -->
    <div id="verificationModal" class="modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>Product Verification</h3>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div class="verification-content" id="verificationContent">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </div>

<!-- Analytics Section -->
<section id="analytics" class="section">
    <div class="analytics-header">
        <h2>Platform Analytics</h2>
        <p>Monitor platform performance and trends</p>
    </div>
    <div class="analytics-grid">
        <div class="card">
            <div class="card-header">
                <h3>Trust Score Leaderboard</h3>
                <i class="fas fa-trophy"></i>
            </div>
            <div class="leaderboard" id="trustLeaderboard">
                <!-- Populated by JavaScript -->
            </div>
        </div>
        <div class="card">
            <div class="card-header">
                <h3>Food Impact Analysis</h3>
                <i class="fas fa-chart-bar"></i>
            </div>
            <div class="trends-chart">
                <div class="bar-chart-container">
                    <!-- Y-axis labels -->
                    <div class="y-axis">
                        <span class="y-label">10</span>
                        <span class="y-label">8</span>
                        <span class="y-label">6</span>
                        <span class="y-label">4</span>
                        <span class="y-label">2</span>
                        <span class="y-label">0</span>
                    </div>
                    
                    <!-- Chart area -->
                    <div class="chart-area">
                        <!-- Chart Title -->
                        <div class="chart-title">Health vs Economic Impact</div>
                        
                        <!-- Grid lines -->
                        <div class="chart-grid"></div>
                        
                        <!-- Bar Groups -->
                        <div class="bar-groups">
                            <div class="bar-group">
                                <div class="bar-pair">
                                    <div class="bar health-bar" style="height: 90%;">9</div>
                                    <div class="bar economic-bar" style="height: 70%;">7</div>
                                </div>
                                <div class="bar-label">Milk<br>Adulteration</div>
                            </div>
                            
                            <div class="bar-group">
                                <div class="bar-pair">
                                    <div class="bar health-bar" style="height: 80%;">8</div>
                                    <div class="bar economic-bar" style="height: 60%;">6</div>
                                </div>
                                <div class="bar-label">Fake<br>Spices</div>
                            </div>
                            
                            <div class="bar-group">
                                <div class="bar-pair">
                                    <div class="bar health-bar" style="height: 70%;">7</div>
                                    <div class="bar economic-bar" style="height: 80%;">8</div>
                                </div>
                                <div class="bar-label">Counterfeit<br>Honey</div>
                            </div>
                            
                            <div class="bar-group">
                                <div class="bar-pair">
                                    <div class="bar health-bar" style="height: 40%;">4</div>
                                    <div class="bar economic-bar" style="height: 70%;">7</div>
                                </div>
                                <div class="bar-label">False<br>Organic</div>
                            </div>
                            
                            <div class="bar-group">
                                <div class="bar-pair">
                                    <div class="bar health-bar" style="height: 70%;">7</div>
                                    <div class="bar economic-bar" style="height: 60%;">6</div>
                                </div>
                                <div class="bar-label">Spoiled<br>Goods</div>
                            </div>
                            
                            <div class="bar-group">
                                <div class="bar-pair">
                                    <div class="bar health-bar" style="height: 100%;">10</div>
                                    <div class="bar economic-bar" style="height: 90%;">9</div>
                                </div>
                                <div class="bar-label">Counterfeit<br>Alcohol</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- X-axis label -->
                <div class="x-axis-label">Food Problem Categories</div>
            </div>
            <div class="chart-legend-row">
        <div class="legend-item">
            <div class="legend-box health-legend"></div>
            <span>Health Impact Score</span>
        </div>
        <div class="legend-item">
            <div class="legend-box economic-legend"></div>
            <span>Economic Impact Score</span>
        </div>
    </div>
        </div>
        
    </div>
    
    <!-- Legend Row Below -->
    
</section>



    <!-- Blockchain Section -->
    <section id="blockchain" class="section">
        <div class="blockchain-header">
            <h2>Blockchain Explorer</h2>
            <p>View all blockchain transactions and verifications</p>
        </div>
        <div class="blockchain-grid">
            <div class="card">
                <div class="card-header">
                    <h3>Recent Transactions</h3>
                    <i class="fas fa-cube"></i>
                </div>
                <div class="transaction-list" id="transactionList">
                    <!-- Populated by JavaScript -->
                </div>
            </div>
            <div class="card">
                <div class="card-header">
                    <h3>Network Stats</h3>
                    <i class="fas fa-network-wired"></i>
                </div>
                <div class="network-stats">
                    <div class="stat-item">
                        <div class="stat-value">1,847,392</div>
                        <div class="stat-label">Current Block</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">3</div>
                        <div class="stat-label">Total Transactions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">21,000</div>
                        <div class="stat-label">Avg Gas Used</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="app.js"></script>

    <!-- Improved Chatbot Widget -->
<!-- Add this before closing </body> tag -->

<div class="chatbot-widget">
    <!-- White Circle with Green Border -->
    <button class="chatbot-toggle" id="chatbotToggle">
        <i class="fas fa-robot"></i>
    </button>

    <!-- Dark Background Chat Container -->
    <div class="chatbot-container" id="chatbotContainer">
        <!-- Green Header with Clear Chat and Close Buttons -->
        <div class="chatbot-header">
            <div class="chatbot-title">
                <i class="fas fa-robot"></i>
                <span>AgriChainX Bot</span>
            </div>
            <div class="chatbot-actions">
                <button class="clear-chat-btn" id="clearChat" title="Clear Chat">
                    <i class="fas fa-trash"></i>
                </button>
                <button class="chatbot-close" id="chatbotClose" title="Close">×</button>
            </div>
        </div>

        <!-- Dark Background Chat Messages -->
        <div class="chatbot-messages" id="chatbotMessages">
            <!-- Initial Greeting -->
            <div class="message bot-message">
                <div class="message-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="message-content">
                    👋 <strong>Hello!</strong> I'm your AgriChainX assistant.
                    <br><br>
                    I can help you with:
                    <ul>
                        <li>📦 Check status</li>
                        <li>⏰ Set reminders</li>
                        <li>📝 Report complaints</li>
                        <li>📊 View analytics</li>
                    </ul>
                    How can I assist you today?
                </div>
            </div>
        </div>

        <!-- Horizontal Scrolling Suggestions with Arrows -->
        <div class="suggestions-wrapper">
            <button class="scroll-arrow left" id="scrollLeft">
                <i class="fas fa-chevron-left"></i>
            </button>
            <div class="chatbot-suggestions" id="chatbotSuggestions">
                <div class="suggestion-chip">Check status</div>
                <div class="suggestion-chip">Set reminder</div>
                <div class="suggestion-chip">Report complaint</div>
                <div class="suggestion-chip">Analytics</div>
                <div class="suggestion-chip">Verification</div>
                <div class="suggestion-chip">Purity scores</div>
                <div class="suggestion-chip">Upload product</div>
                <div class="suggestion-chip">Help</div>
            </div>
            <button class="scroll-arrow right" id="scrollRight">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>

        <!-- Input Area with Green Border -->
        <div class="chatbot-input">
            <input type="text" id="chatbotInput" placeholder="Type your message...">
            <button class="chatbot-send" id="chatbotSend">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>
</div>
</body>
</html>